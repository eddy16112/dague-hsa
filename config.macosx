#!/bin/sh
rm -rf CMakeCache.txt CMakeFiles
HWLOC_OPTS="-DHWLOC_DIR=/opt/local"

# the above line is necessary only when using gcc and gfortran 4.4
# from fink. If using stock gcc and hpc gfortran, or port,
# it is not necessary. 
export CC=gcc-4.2
export CFLAGS="-m32"
export FFLAGS="-m32"
PLASMA_DIR=/Users/bosilca/tools/plasma-installer/build/plasma_2.0.0/
HWLOC_OPTS="-DHWLOC_DIR=/Users/bosilca/opt -DDPLASMA_SCHED_HWLOC=1"

cmake -DPLASMA_DIR=${PLASMA_DIR} -DDPLASMA_MPI=OFF ${HWLOC_OPTS}
